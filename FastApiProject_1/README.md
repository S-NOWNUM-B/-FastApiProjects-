# Notes API — Проект на FastAPI

Простой API-сервис для создания и управления текстовыми заметками, реализованный с использованием **FastAPI** и **PostgreSQL**.

## О проекте

Это учебный проект, демонстрирующий основы разработки REST API с **FastAPI** и асинхронной работы с базой данных **PostgreSQL** через **SQLModel**.

## Функционал

- Создание заметки с текстом (**POST /notes**).
- Получение списка всех заметок (**GET /notes**).

## Технологии

- **Python 3.10+**
- **FastAPI**
- **Uvicorn** (ASGI-сервер)
- **PostgreSQL**
- **SQLModel** (ORM для работы с базой данных)
- **asyncpg** (асинхронный драйвер для PostgreSQL)
- **Pydantic** (валидация данных)
- **Postman** (инструмент для тестирования API)

## Запуск проекта локально

1. **Клонирование репозитория**:  
   Клонируйте репозиторий и перейдите в папку проекта:
   ```bash
   git clone <твой репозиторий>
   cd FastApiProject_1
   ```

2. **Создание и активация виртуального окружения**:  
   - Создайте виртуальное окружение:
     ```bash
     python -m venv venv
     ```
   - Активируйте окружение:
     - Для Windows:  
       ```bash
       venv\Scripts\activate
       ```
     - Для Mac/Linux:  
       ```bash
       source venv/bin/activate
       ```

3. **Установка зависимостей**:  
   Установите необходимые пакеты:
   ```bash
   pip install fastapi uvicorn[standard] sqlmodel asyncpg greenlet
   ```

4. **Создание базы данных PostgreSQL**:  
   Создайте базу данных:
   ```sql
   CREATE DATABASE notesdb;
   ```

5. **Настройка подключения к базе данных**:  
   В файле `main.py` отредактируйте строку подключения, заменив `username` и `password`:
   ```python
   DATABASE_URL = "postgresql+asyncpg://username:password@localhost:5432/notesdb"
   ```

6. **Запуск сервера**:  
   Запустите сервер:
   ```bash
   uvicorn main:app --reload
   ```

## Тестирование API

### Добавление заметки (POST)
- **URL**: `http://127.0.0.1:8000/notes`
- **Метод**: POST
- **Тело (JSON)**:
  ```json
  {
    "text": "Моя первая заметка"
  }
  ```

### Получение списка заметок (GET)
- **URL**: `http://127.0.0.1:8000/notes`
- **Метод**: GET

## Структура проекта

- **`main.py`**: Основной код API.
- Логика построена с использованием **SQLModel** и асинхронных сессий.
- Таблица `note` создаётся автоматически при запуске сервера.

## Полезные команды

- **Запуск сервера**:  
  ```bash
  uvicorn main:app --reload
  ```
- **Установка зависимостей**:  
  ```bash
  pip install -r requirements.txt
  ```
  *(Команда применима, если файл `requirements.txt` создан.)*
- **Подключение к PostgreSQL**:  
  Используйте `psql` или `pgAdmin`.

## Советы

- Используйте **Postman** или **curl** для удобного тестирования API.
- Убедитесь, что **PostgreSQL** настроен и база данных создана перед запуском.
- Проверяйте версию Python — проект оптимизирован для **3.10+**.

## Контакты

Если у вас есть вопросы или предложения, открывайте Microsft Teams и пишите туда.